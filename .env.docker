# Shared environment variables for Docker Compose services
# This file is used by backend, celery-worker, and celery-beat services
# to eliminate duplication in docker-compose.yml

# Database Configuration
DATABASE_URL=postgresql+asyncpg://commandcenter:${DB_PASSWORD:-changeme}@postgres:5432/commandcenter
POSTGRES_USER=commandcenter
POSTGRES_PASSWORD=${DB_PASSWORD:-changeme}
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=commandcenter

# Security
SECRET_KEY=${SECRET_KEY}
ENCRYPTION_SALT=${ENCRYPTION_SALT:-dev-encryption-salt-change-in-production}

# CORS - JSON array format (quoted to prevent shell parsing issues)
CORS_ORIGINS='["http://localhost:3000", "http://localhost:5173", "http://localhost:${FRONTEND_PORT:-3000}"]'

# Storage Paths
RAG_STORAGE_PATH=/app/rag_storage
CHROMADB_PATH=/app/rag_storage/chromadb
KNOWLEDGE_BASE_PATH=/app/rag_storage/chromadb

# KnowledgeBeast Integration (Optional)
USE_KNOWLEDGEBEAST=${USE_KNOWLEDGEBEAST:-false}
KNOWLEDGEBEAST_DB_PATH=${KNOWLEDGEBEAST_DB_PATH:-./kb_chroma_db}
KNOWLEDGEBEAST_EMBEDDING_MODEL=${KNOWLEDGEBEAST_EMBEDDING_MODEL:-all-MiniLM-L6-v2}

# API Keys (Optional)
ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
OPENAI_API_KEY=${OPENAI_API_KEY}
GITHUB_TOKEN=${GITHUB_TOKEN}
SLACK_TOKEN=${SLACK_TOKEN:-}

# Redis & Celery
REDIS_URL=redis://redis:6379
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0

# Environment
ENVIRONMENT=${ENVIRONMENT:-production}
DEBUG=${DEBUG:-false}
