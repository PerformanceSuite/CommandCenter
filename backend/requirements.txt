# FastAPI and ASGI server
fastapi==0.109.0
uvicorn[standard]==0.27.0

# Database
sqlalchemy==2.0.25
alembic==1.13.1
psycopg2-binary==2.9.9  # Using binary for local dev
asyncpg==0.29.0
aiosqlite==0.19.0

# Configuration and validation
pydantic>=2.5.0,<3.0.0
pydantic-settings>=2.1.0,<3.0.0
python-dotenv==1.0.0
email-validator>=2.0.0

# HTTP client
httpx>=0.27.0,<1.0.0  # Upgraded for MCP dependency compatibility

# Authentication & Encryption
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
python-multipart==0.0.6
cryptography==42.0.0

# Rate Limiting
slowapi==0.1.9

# RAG and embeddings dependencies
numpy>=1.26.0,<2.0.0  # Pin to <2.0 for ChromaDB compatibility (KnowledgeBeast dependency)
langchain>=0.1.0,<0.2.0
langchain-community>=0.0.10,<0.1.0
sentence-transformers>=2.3.0,<3.0.0
docling>=2.5.5

# KnowledgeBeast v0.1.0 (local project) for RAG
-e ../libs/knowledgebeast  # Editable install from monorepo libs/
dagger-io>=0.9.0  # For building custom Postgres image

# GitHub integration
PyGithub==2.3.0

# Redis for caching
redis==5.0.1
hiredis==2.3.2

# Monitoring and metrics
prometheus-client==0.19.0
prometheus-fastapi-instrumentator==7.0.0

# Rate limiting
tenacity==8.2.3
croniter==2.0.1

# Multi-provider AI routing (Phase 2 Research Workflow)
# Latest SDK versions as of October 2025
openai>=2.3.0,<3.0.0  # OpenRouter uses OpenAI SDK, direct OpenAI access (latest: 2.3.0, Oct 2025)
anthropic>=0.69.0,<0.70.0  # Direct Anthropic/Claude access (latest: 0.69.0, Sep 2025)
google-genai>=1.0.0,<2.0.0  # Google Gen AI SDK (GA May 2025, replaces google-generativeai)
litellm>=1.30.0,<1.50.0  # Self-hosted proxy for 100+ LLMs (tested 1.30-1.45)

# Project Analyzer dependencies
toml>=0.10.2  # Parse TOML files (Cargo.toml, pyproject.toml)
PyYAML>=6.0  # Parse YAML files (docker-compose, k8s)
lxml>=4.9.0  # Parse XML files (pom.xml)
lxml[html_clean]>=4.9.0  # HTML cleaning for newspaper4k (separated in lxml 5.x)
# packaging is provided by pytest/black dependencies (>=22.0)

# CLI dependencies
click>=8.1.0
rich>=13.0.0
watchdog>=3.0.0  # For --watch mode
textual>=0.47.0  # TUI (Text User Interface) framework

# Task Queue (Phase 2)
celery==5.3.4
flower==2.0.1
celery-redbeat==2.2.0  # Redis-backed beat scheduler

# Export formats (Sprint 3.1)
openpyxl>=3.1.5,<4.0.0  # Excel export support (docling requires >=3.1.5)

# RSS Feed scraping (Phase B Knowledge Ingestion)
feedparser==6.0.11
beautifulsoup4==4.12.3
newspaper4k==0.9.3  # Maintained fork of newspaper3k (last updated 2024)
nest-asyncio==1.6.0  # Allow nested event loops in Celery tasks
# Note: httpx is used for async HTTP (defined above), requests removed from explicit deps
# Note: lxml_html_clean removed (newspaper4k handles HTML cleaning internally)

# File System Watchers (Phase B Task 5)
python-magic==0.4.27
PyPDF2==3.0.1
python-docx>=1.1.2,<2.0.0  # Compatible with docling>=2.5.5
